{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\Workspace\\\\mutliple-tracks\\\\src\\\\components\\\\Pages\\\\admin\\\\ImagesList.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchImages } from \"../../../actions\";\nimport DeleteImage from \"./DeleteImage\";\nimport CreateImage from \"./CreateImage\";\nimport ImageModal from \"../ImageModal\";\n\nclass ImagesList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      renderDelete: null,\n      showModalImage: false\n    };\n\n    this.renderModalImage = () => {\n      if (this.state.showModalImage) {\n        return React.createElement(ImageModal, {\n          image: this.state.showModalImage,\n          onDismiss: () => {\n            this.setState({\n              showModalImage: false\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 15\n          },\n          __self: this\n        });\n      }\n    };\n\n    this.renderList = () => {\n      return React.createElement(\"table\", {\n        className: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Lien\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, \"L\\xE9gende\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, \"Actions\"), React.createElement(\"th\", {\n        scope: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, \"Miniature \"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, this.props.images.map(image => {\n        return React.createElement(\"tr\", {\n          key: image._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, \" \", image.link ? image.link.substring(0, 40) : null, \"...\"), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, image.caption), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: () => {\n            this.setState({\n              renderDelete: image._id\n            });\n          },\n          className: \"btn btn-danger m-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, \"Supprimer\")), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: image.link,\n          style: {\n            maxHeight: \"50px\",\n            maxWidth: \"50px\",\n            cursor: \"pointer\"\n          },\n          alt: \"NOT FOUND\",\n          onClick: () => {\n            this.setState({\n              showModalImage: image\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        })));\n      })));\n    };\n\n    this.dismissDelete = () => {\n      this.setState({\n        renderDelete: null\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchImages();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, this.renderModalImage(), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Images\"), this.state.renderDelete ? React.createElement(DeleteImage, {\n      _id: this.state.renderDelete,\n      callback: this.dismissDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }) : null, this.renderList(), React.createElement(CreateImage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    images: Object.values(state.images),\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchImages\n})(ImagesList);","map":{"version":3,"sources":["D:/Code/Workspace/mutliple-tracks/src/components/Pages/admin/ImagesList.js"],"names":["React","connect","fetchImages","DeleteImage","CreateImage","ImageModal","ImagesList","Component","state","renderDelete","showModalImage","renderModalImage","setState","renderList","props","images","map","image","_id","link","substring","caption","maxHeight","maxWidth","cursor","dismissDelete","componentDidMount","render","mapStateToProps","Object","values","isSignedIn","auth"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchImages } from \"../../../actions\";\r\nimport DeleteImage from \"./DeleteImage\";\r\nimport CreateImage from \"./CreateImage\";\r\nimport ImageModal from \"../ImageModal\";\r\nclass ImagesList extends React.Component {\r\n  state = { renderDelete: null, showModalImage: false };\r\n  componentDidMount() {\r\n    this.props.fetchImages();\r\n  }\r\n  renderModalImage = () => {\r\n    if (this.state.showModalImage) {\r\n      return (\r\n        <ImageModal\r\n          image={this.state.showModalImage}\r\n          onDismiss={() => {\r\n            this.setState({ showModalImage: false });\r\n          }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n  renderList = () => {\r\n    return (\r\n      <table className=\"table\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\">Lien</th>\r\n            <th scope=\"col\">LÃ©gende</th>\r\n            <th scope=\"col\">Actions</th>\r\n            <th scope=\"col\">Miniature </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.props.images.map(image => {\r\n            return (\r\n              <tr key={image._id}>\r\n                <td> {image.link ? image.link.substring(0, 40) : null}...</td>\r\n                <td>{image.caption}</td>\r\n                <td>\r\n                  <button\r\n                    onClick={() => {\r\n                      this.setState({ renderDelete: image._id });\r\n                    }}\r\n                    className=\"btn btn-danger m-1\"\r\n                  >\r\n                    Supprimer\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <img\r\n                    src={image.link}\r\n                    style={{\r\n                      maxHeight: \"50px\",\r\n                      maxWidth: \"50px\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                    alt=\"NOT FOUND\"\r\n                    onClick={() => {\r\n                      this.setState({ showModalImage: image });\r\n                    }}\r\n                  />\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  };\r\n  dismissDelete = () => {\r\n    this.setState({ renderDelete: null });\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderModalImage()}\r\n        <h2>Images</h2>\r\n        {this.state.renderDelete ? (\r\n          <DeleteImage\r\n            _id={this.state.renderDelete}\r\n            callback={this.dismissDelete}\r\n          />\r\n        ) : null}\r\n        {this.renderList()}\r\n        <CreateImage />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    images: Object.values(state.images),\r\n    isSignedIn: state.auth.isSignedIn,\r\n  };\r\n};\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchImages }\r\n)(ImagesList);\r\n"]},"metadata":{},"sourceType":"module"}