{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\Workspace\\\\mutliple-tracks\\\\src\\\\components\\\\textEditor\\\\Save.js\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport history from \"../../history\";\nimport Modal from \"../modal\";\nimport { createArticle, editArticle } from \"../../actions\";\n\nclass Save extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      renderModal: null\n    };\n\n    this.onSaveClick = () => {\n      if (this.props.title && this.props.author && this.props.isSignedIn) {\n        const _this$props = this.props,\n              title = _this$props.title,\n              author = _this$props.author,\n              content = _this$props.content,\n              image = _this$props.image,\n              noEditor = _this$props.noEditor;\n        const article = {\n          title,\n          author,\n          content,\n          image,\n          noEditor\n        };\n\n        if (this.props.TypeOfEdition === \"create\") {\n          this.props.createArticle(article);\n        }\n\n        if (this.props.TypeOfEdition === \"edit\") {\n          this.props.editArticle(this.props._id, article);\n        }\n      } else {\n        this.setState({\n          renderModal: true\n        });\n      }\n    };\n\n    this.renderModalActions = () => {\n      return React.createElement(React.Fragment, null, React.createElement(\"button\", {\n        className: `btn btn-${this.props.isSignedIn ? \"danger\" : \"secondary\"} m-1`,\n        onClick: () => {\n          history.push(\"/admin\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, \"Retour\"), React.createElement(\"button\", {\n        className: `btn btn-${this.props.isSignedIn ? \"primary\" : \"warning\"} m-1`,\n        onClick: () => {\n          this.setState({\n            renderModal: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Continuer\"));\n    };\n\n    this.renderModal = () => {\n      let title, content;\n\n      let onDismiss = () => {\n        this.setState({\n          renderModal: false\n        });\n      };\n\n      if (!this.props.isSignedIn) {\n        title = \"Compte Administrateur\";\n        content = \"Si vous n'êtes pas connecté sur un compte administrateur, aucune modification ne sera prise en compte\";\n      } else if (!this.props.title && !this.props.author) {\n        title = \"Champs Requis\";\n        content = \"Vous devez entrer un Titre et un Auteur\";\n      } else if (this.props.noEditor) {\n        title = \"Affichage de l'Article\";\n        content = \"Vous avez choisis d'afficher uniquement l'image, l'éditeur de texte ne sera pas pris en compte \";\n      }\n\n      return React.createElement(Modal, {\n        title: title,\n        content: content,\n        onDismiss: onDismiss,\n        actions: this.renderModalActions(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      });\n    };\n  }\n\n  renderNoEditorWarnning() {\n    if (this.props.noEditor) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"/!\\\\ Vous avez choisis d'afficher uniquement l'image, l'\\xE9diteur de texte ne sera pas pris en compte /!\\\\\", \" \");\n    }\n\n    return;\n  }\n\n  render() {\n    if (this.state.renderModal) {\n      return this.renderModal();\n    }\n\n    if (this.props.TypeOfEdition === \"create\" || this.props.TypeOfEdition === \"edit\") {\n      return React.createElement(React.Fragment, null, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.onSaveClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Save\"), this.renderNoEditorWarnning());\n    }\n\n    return null;\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createArticle,\n  editArticle\n})(Save);","map":{"version":3,"sources":["D:/Code/Workspace/mutliple-tracks/src/components/textEditor/Save.js"],"names":["React","connect","history","Modal","createArticle","editArticle","Save","Component","state","renderModal","onSaveClick","props","title","author","isSignedIn","content","image","noEditor","article","TypeOfEdition","_id","setState","renderModalActions","push","onDismiss","renderNoEditorWarnning","render","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport history from \"../../history\";\nimport Modal from \"../modal\";\nimport { createArticle, editArticle } from \"../../actions\";\n\nclass Save extends React.Component {\n  state = { renderModal: null };\n\n  onSaveClick = () => {\n    if (this.props.title && this.props.author && this.props.isSignedIn) {\n      const { title, author, content, image, noEditor } = this.props;\n      const article = { title, author, content, image, noEditor };\n\n      if (this.props.TypeOfEdition === \"create\") {\n        this.props.createArticle(article);\n      }\n      if (this.props.TypeOfEdition === \"edit\") {\n        this.props.editArticle(this.props._id, article);\n      }\n    } else {\n      this.setState({ renderModal: true });\n    }\n  };\n  renderModalActions = () => {\n    return (\n      <>\n        <button\n          className={`btn btn-${\n            this.props.isSignedIn ? \"danger\" : \"secondary\"\n          } m-1`}\n          onClick={() => {\n            history.push(\"/admin\");\n          }}\n        >\n          Retour\n        </button>\n        <button\n          className={`btn btn-${\n            this.props.isSignedIn ? \"primary\" : \"warning\"\n          } m-1`}\n          onClick={() => {\n            this.setState({ renderModal: false });\n          }}\n        >\n          Continuer\n        </button>\n      </>\n    );\n  };\n  renderModal = () => {\n    let title, content;\n    let onDismiss = () => {\n      this.setState({ renderModal: false });\n    };\n    if (!this.props.isSignedIn) {\n      title = \"Compte Administrateur\";\n      content =\n        \"Si vous n'êtes pas connecté sur un compte administrateur, aucune modification ne sera prise en compte\";\n    } else if (!this.props.title && !this.props.author) {\n      title = \"Champs Requis\";\n      content = \"Vous devez entrer un Titre et un Auteur\";\n    } else if (this.props.noEditor) {\n      title = \"Affichage de l'Article\";\n      content =\n        \"Vous avez choisis d'afficher uniquement l'image, l'éditeur de texte ne sera pas pris en compte \";\n    }\n    return (\n      <Modal\n        title={title}\n        content={content}\n        onDismiss={onDismiss}\n        actions={this.renderModalActions()}\n      />\n    );\n  };\n  renderNoEditorWarnning() {\n    if (this.props.noEditor) {\n      return (\n        <div>\n          /!\\ Vous avez choisis d'afficher uniquement l'image, l'éditeur de\n          texte ne sera pas pris en compte /!\\{\" \"}\n        </div>\n      );\n    }\n    return;\n  }\n  render() {\n    if (this.state.renderModal) {\n      return this.renderModal();\n    }\n    if (\n      this.props.TypeOfEdition === \"create\" ||\n      this.props.TypeOfEdition === \"edit\"\n    ) {\n      return (\n        <>\n          <button className=\"btn btn-primary\" onClick={this.onSaveClick}>\n            Save\n          </button>\n          {this.renderNoEditorWarnning()}\n        </>\n      );\n    }\n    return null;\n  }\n}\nconst mapStateToProps = state => {\n  return { isSignedIn: state.auth.isSignedIn };\n};\nexport default connect(\n  mapStateToProps,\n  { createArticle, editArticle }\n)(Save);\n"]},"metadata":{},"sourceType":"module"}